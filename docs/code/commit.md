# 提交规范

::: tip 提示
本栏主要介绍git提交的格式、规范问题，请认真阅读
:::

本栏的主要内容如下：

- [GitLab地址](#GitLab地址)
- [提交格式](#提交格式)
- [详细说明](#格式说明)
- [提交示例](#提交示例)

## GitLab地址

**地址**：[https://git.quant-cloud.cn/](https://git.quant-cloud.cn/)

## 提交格式

如下：
```
<type>(<scope>): <subject>
<BLANK LINE>
<body>
<BLANK LINE>
<footer>
```

## 格式说明

### 1.关于type

type代表某次提交的类型，比如是修复一个 `bug` 还是增加一个新的 `feature` 。所有的type类型如下：

- **feat**： 新增feature
- **fix**:  修复bug
- **docs**:  仅仅修改了文档，比如`README, CHANGELOG, CONTRIBUTE`等等
- **style**:  仅仅修改了空格、格式缩进、都好等等，不改变代码逻辑
- **refactor**:  代码重构，没有加新功能或者修复bug
- **perf**:  优化相关，比如提升性能、体验
- **test**:  测试用例，包括单元测试、集成测试等
- **chore**:  改变构建流程、或者增加依赖库、工具等
- **revert**:  回滚到上一个版本

### 2.关于scope

scope 代表此次修改的影响范围。为了便于阅读，scope约定使用一下值：

- location： 表示影响小，某个小小的功能
- module： 表示会影响某个模块 如登录模块（`login`）、首页模块（home） 、用户管理模块（user）等等，需要填写具体模块
- all：表示影响面大 ，如修改了网络框架  会对真个程序产生影响

### 3.关于subject

subject代表本次提交的标题。要求50字以内的概括性描述。另外，当type为fix时，需要在标题前以“#”开始的BUG编号，若未在tapd上提BUG，可不填写BUG编号。

例如：
```
fix(location): #581 将菜单拖动框z-index提高
```

### 4.关于BLANK LINE

BLANK LINE 代表空行。用于将标题，内容，结尾三个区域内容分开。

### 5.关于body

`body`代表本次提交的详细说明。需要描述的信息包括：

1. 为什么这个变更是必须的？
    - 它可能是用来修复一个bug，增加一个feature，提升性能、可靠性、稳定性等等
2. 如何解决这个问题?
    - 具体描述解决问题的步骤
3. 是否存在副作用、风险? 

### 6.关于footer

footer描述的结尾，如果需要的化可以添加一个链接到issue地址或者其它文档，或者关闭某个issue。

## 提交示例

各种常见类型的日志提交参考

### feat: 新功能

feat:新增功能。

```
feat: 新增客户端注册功能（前端实现）

主要实现用户token的客户端密钥注册
```

### fix:修复BUG

fix:修复BUG。

```
fix: 企业员工页面岗位相关添加岗位编号

在员工新增、修改时设置岗位页面，添加岗位编号字段；
在员工查看页面，添加岗位编号字段；
修改后台api，返回岗位编号字段。

BUG地址： http://xxx.xx.x.xx:8080/xxx
```

### docs:修改文档

docs：修改文档（版本说明、操作手册等）

```
docs: 增加新平台图标使用章程.doc

文件内容详细说明了新平台图标的使用规范、图标的管理章程，
样式文件更新、demo页更新的步骤
```

### style:修改代码格式

style:修改空行，缩进

```
style: 修改代码的整体缩进、空行的处理

对xxx页面进行了代码缩进处理
对xxx页面进行了空行的处理
```

### refactor:重构

```
refactor: 重构通知中心数据库设计、业务代码

增加已阅读、已办理事项、增加代办事项状态
```

### perf:优化相关

```
perf: 优化复选框点击全选事件

跟所有的checkbox添加name属性，且值相同。
全选时通过名称一次性获取全部checkbox并进行标记全选。
去除单个点击后的事件绑定。
```

### test:测试相关

```
test: 员工新增的单元测试、集成测试

添加单元测试代码，用于代码逻辑测试
```

### chore:依赖修改

```
chore: xxx.dll更新至4.4.6

将xxx插件的依赖库更新到最新版本4.4.6
```

### revert:回滚、撤销

```
revert: 还原信息中心错误提交的多余文件

由于提交方式出错，导致很多文件被覆盖，现在还原这些修改
```